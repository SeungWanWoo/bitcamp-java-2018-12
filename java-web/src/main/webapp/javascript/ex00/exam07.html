<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>exam</title>
<link rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
  crossorigin="anonymous">
</head>
<body>
  <h1>7. JSON과 동적 UI</h1>
    <div>
      <table class="table table-hover" id="ta1">
        <thead>
          <th scope="col">번호</th>
          <th scope="col">제목</th>
          <th scope="col">조회수</th>
          <th scope="col">등록일</th>
        </thead>
        <tbody>
          
        </tbody>
      </table>
    </div>
    <button id="btn1">데이터 가져오기</button>
  <script>
    var tag1 = document.getElementById("btn1");
    
    tag1.onclick = function() {
      // 서버에 요청
      var xhr = new XMLHttpRequest();
      xhr.open("GET", "exam07.jsp", false);
      xhr.send();
      
      // JSON 형식의 문자열 데이터 => javaScript 객체
      var arr = JSON.parse(xhr.responseText);
      
      var trList = "";
      for (var item of arr) {
        trList += "<tr><td scope='col'>" + item.no + "</td>" +
                      "<td scope='col'>" + item.title + "</td>" +
                      "<td scope='col'>" + item.viewCount + "</td>" +
                      "<td scope='col'>" + item.createdDate + "</td></tr>\n";
       }
      var tag2 = document.querySelector("#ta1 > tbody");
      tag2.innerHTML = trList;
    };
    
  </script>
</body>
</html>